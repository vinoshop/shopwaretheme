{% block layout_main_navigation %}
    <div class="navigation">
        {% block layout_main_navigation_menu_home %}
            {% if context.salesChannel.translated.homeEnabled %}
                {% set homeLabel = context.salesChannel.translated.homeName|default("general.homeLink"|trans) %}
                <a class="nav-link main-navigation-link{% if controllerAction is same as('home') %} active{% endif %} home-link"
                   href="{{ path('frontend.home.page') }}"
                   itemprop="url"
                   title="{{ homeLabel|striptags }}">
                    <div class="main-navigation-link-text">
                        <span itemprop="name">{{ homeLabel|sw_sanitize }}</span>
                    </div>
                </a>
            {% endif %}
        {% endblock %}

        {% for treeItem in page.header.navigation.tree %}
            {% set category = treeItem.category %}
            {% set name = category.translated.name %}

            {# @deprecated tag:v6.5.0 - Use "category.id" directly instead. #}
            {% set categorId = category.id %}
            <a class="nav-link main-navigation-link{% if category.id == page.header.navigation.active.id or category.id in activePath %} active{% endif %}"
               href="{{ category_url(category) }}"
               itemprop="url"
               {% if treeItem.children|length > 0 %}data-flyout-menu-trigger="{{ category.id }}"{% endif %}
                    {% if category_linknewtab(category) %}target="_blank"{% endif %}
               title="{{ name }}">
                <div class="main-navigation-link-text">
                    <span itemprop="name">{{ name }}</span>
                </div>
            </a>
        {% endfor %}
    </div>
{% endblock %}
